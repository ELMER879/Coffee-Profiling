<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Profiling</title>
    <style>
        :root {
            --primary: #6f4e37;
            --primary-hover: #5d4037;
            --bg: #f4f1ea;
            --card-bg: #ffffff;
            --text: #3e2723;
        }
        body { font-family: 'Segoe UI', sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: var(--bg); color: var(--text); }
        h1, h2 { color: var(--primary); }
        .input-group { background: var(--card-bg); margin-bottom: 20px; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        input, select, textarea { width: 100%; margin-bottom: 12px; padding: 12px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 6px; }
        input:focus, select:focus, textarea:focus { outline: 2px solid var(--primary); border-color: transparent; }
        button { background: linear-gradient(135deg, #3e2723, #8d6e63); color: white; border: none; padding: 12px; cursor: pointer; border-radius: 6px; width: 100%; font-weight: bold; transition: opacity 0.2s; }
        button:hover { opacity: 0.9; }
        .card { background: var(--card-bg); padding: 15px; margin-bottom: 15px; border-radius: 8px; border-left: 5px solid var(--primary); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .progress-bg { background: rgba(0,0,0,0.1); height: 8px; border-radius: 4px; overflow: hidden; margin-top: 5px; }
        .progress-fill { height: 100%; transition: width 0.3s ease; }
    </style>
</head>
<body>
    <h1>Coffee Profiling</h1>

    <!-- AUTH SECTION -->
    <div id="auth-container" style="max-width: 400px; margin: 50px auto;">
        <div class="card">
            <h2 id="auth-title">Login</h2>
            <input type="email" id="auth-email" placeholder="Email">
            <input type="password" id="auth-password" placeholder="Password">
            <button id="auth-action-btn">Login</button>
            <p style="text-align: center; margin-top: 15px;">
                <a href="#" id="auth-toggle-link" style="color: var(--primary);">Need an account? Sign Up</a>
            </p>
        </div>
    </div>

    <!-- PENDING APPROVAL SECTION -->
    <div id="pending-container" style="display: none; max-width: 400px; margin: 50px auto;">
        <div class="card">
            <h2>Account Pending</h2>
            <p>Your account is waiting for administrator approval.</p>
            <button id="pendingLogoutBtn" style="background: #d32f2f; margin-top: 10px;">Logout</button>
        </div>
    </div>

    <!-- APP CONTENT (Hidden by default) -->
    <div id="app-content" style="display: none;">
        <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
            <button id="toggleBeanBtn">Toggle Add Bean</button>
            <button id="toggleMachineBtn">Toggle Add Machine</button>
            <button id="toggleExperimentBtn">Toggle Log Experiment</button>
            <button id="toggleExperimentsBtn">Toggle Saved Experiments</button>
            <button id="logoutBtn" style="background: #d32f2f;">Logout</button>
        </div>

        <div class="input-group" id="addBeanSection" style="display: none;">
        <h2>Add Bean</h2>
        <input type="text" id="beanName" placeholder="Bean Name">
        <input type="text" id="origin" placeholder="Origin">
        <input type="text" id="variety" placeholder="Variety">
        <input type="text" id="process" placeholder="Process">
        <input type="text" id="roastLevel" placeholder="Roast Level">
        <input type="date" id="roastDate">
        <button id="addBeanBtn">Add Bean</button>
    </div>

    <div class="input-group" id="addMachineSection" style="display: none;">
        <h2>Add Machine</h2>
        <input type="text" id="machineName" placeholder="Machine Name">
        <button id="addMachineBtn">Add Machine</button>
    </div>

    <div class="input-group" id="logExperimentSection" style="display: none;">
        <h2>Log Experiment</h2>
        <select id="beanSelect">
            <option value="">Select Bean</option>
        </select>
        <select id="machineSelect">
            <option value="">Select Machine</option>
        </select>
        <select id="flavorProfile">
            <option value="">Select Flavor Profile</option>
            <option value="fruity">Fruity / Floral (Pink)</option>
            <option value="acidic">Acidic / Citrus (Yellow)</option>
            <option value="nutty">Nutty / Chocolate (Amber)</option>
            <option value="roasty">Roasty / Bitter (Grey)</option>
            <option value="herbal">Herbal / Vegetal (Green)</option>
        </select>
        <select id="method">
            <option value="">Select Brew Method</option>
            <option value="Espresso">Espresso</option>
            <option value="Pour Over">Pour Over</option>
            <option value="French Press">French Press</option>
            <option value="Aeropress">Aeropress</option>
            <option value="Moka Pot">Moka Pot</option>
            <option value="Cold Brew">Cold Brew</option>
            <option value="Chemex">Chemex</option>
            <option value="Other">Other</option>
        </select>
        <input type="number" id="grindSize" placeholder="Grind Setting">
        <input type="number" id="dose" placeholder="Dose (g)">
        <input type="number" id="yield" placeholder="Yield (g)">
        <input type="number" id="temp" placeholder="Water Temp (Â°C)">
        <input type="number" id="time" placeholder="Brew Time (s)">
        <select id="behavior">
            <option value="">Select Behavior</option>
            <option value="Steady">Steady Flow</option>
            <option value="Fast">Fast Flow</option>
            <option value="Slow">Slow / Dripping</option>
            <option value="Channeling">Channeling</option>
            <option value="Choking">Choking</option>
        </select>
        <select id="sensory">
            <option value="">Select Sensory Note</option>
            <option value="Chocolate">Chocolate</option>
            <option value="Nutty">Nutty</option>
            <option value="Caramel">Caramel</option>
            <option value="Fruity">Fruity</option>
            <option value="Berry">Berry</option>
            <option value="Citrus">Citrus</option>
            <option value="Floral">Floral</option>
            <option value="Spicy">Spicy</option>
            <option value="Earthy">Earthy</option>
        </select>
        <select id="notes">
            <option value="">Select Outcome</option>
            <option value="Dialed In">Dialed In (Perfect)</option>
            <option value="Grind Finer">Needs Finer Grind</option>
            <option value="Grind Coarser">Needs Coarser Grind</option>
            <option value="Adjust Dose">Adjust Dose</option>
            <option value="Adjust Temp">Adjust Temp</option>
        </select>
        <button id="saveExperimentBtn">Save Experiment</button>
    </div>

        <div id="experiments" style="display: none;">
            <!-- Experiments will load here -->
        </div>
    </div>

    <script type="module" src="./app.js"></script>
</body>
</html>